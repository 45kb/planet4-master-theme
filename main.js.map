{"version":3,"sources":["app.js","author.js","comments_anchor.js","cookies.js","country_select.js","external_links.js","global.js","header.js","img_align.js","pdf_icon.js"],"names":["$","jQuery","document","ready","hover","this","parent","addClass","removeClass","click","animate","scrollTop","offset","top","name","nameEQ","ca","cookie","split","i","length","c","charAt","substring","indexOf","readCookie","show","height","css","value","days","date","slideUp","Date","setTime","getTime","encodeURI","domain","toGMTString","toggleClass","toggle","parents","find","domain_re","url","exec","location","href","each","link","attr","has","pop","on","join","evt","preventDefault","stopPropagation","$button","target","data","Error","clickedElement","button","buttonTarget","get","contains","trigger","bind","event","which","window","width","didScroll","lastScrollTop","delta","navbarHeight","outerHeight","scroll","setInterval","st","Math","abs","hasScrolled","$slider","hasClass","left","parseInt","$searchBox","slideToggle","imgwidth"],"mappings":"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","file":"main.js","sourcesContent":["$ = $ || jQuery; //eslint-disable-line no-global-assign\n","$(document).ready(function() {\n  'use strict';\n\n  // Underline headline on thumbnail hover.\n  $('.search-result-item-image').hover(function() {\n    $('.search-result-item-headline', $(this).parent()).addClass('search-hover');\n  }, function() {\n    $('.search-result-item-headline', $(this).parent()).removeClass('search-hover');\n  });\n});\n","// Scroll to comments\n\n$(document).ready(function() {\n  'use strict';\n\n  $('#comments-link').click(function() {\n    $('html, body').animate({\n      scrollTop: $('#comments').offset().top - 100\n    }, 2000);\n  });\n});\n","$(document).ready(function () {\n  'use strict';\n\n  function createCookie(name, value, days) {\n    var date = new Date();\n    date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n    document.cookie = encodeURI(name) + '=' + encodeURI(value) + ';domain=.' + document.domain + ';path=/;' + '; expires=' + date.toGMTString();\n  }\n\n  function readCookie(name) {\n    var nameEQ = name + '=';\n    var ca = document.cookie.split(';');\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n      while (c.charAt(0) === ' ') {\n        c = c.substring(1, c.length);\n      }\n      if (c.indexOf(nameEQ) === 0) {\n        return c.substring(nameEQ.length, c.length);\n      }\n    }\n    return null;\n  }\n\n  const cookie = readCookie('greenpeace');\n  if (cookie == null) {\n    $('.cookie-block').show();\n    const height = $('.cookie-block').height();\n    $('footer').css('margin-bottom', height + 'px');\n  }\n\n  $('#hidecookie').click(function () {\n    $('.cookie-block').slideUp('slow');\n    $('footer').css('margin-bottom', '0');\n    createCookie('greenpeace', '2', 365);\n  });\n});\n","$(document).ready(function() {\n  'use strict';\n\n  $('.country-select-dropdown').click(function(){\n    $(this).parent().toggleClass('active-li');\n    $('.country-select-box').toggle();\n  });\n\n  $('.country-select-box .country-list li').click(function(){\n    $(this).parents('.country-select-box').find('li').removeClass('active');\n    $(this).addClass('active');\n  });\n\n  $('.country-selectbox').click(function(){\n    $(this).toggleClass('active');\n    $(this).parent().find('.option-contry').toggleClass('active');\n  });\n});\n","// Add an icon suffix on external links\n\n$(document).ready(function() {\n  'use strict';\n\n  const domain_re = /https?:\\/\\/((?:[\\w\\d-]+\\.)+[\\w\\d]{2,})/i;\n  const url = domain_re.exec(location.href)[1];\n\n  $('a[href^=\"http\"]').each(function() {\n    const link = $(this);\n    const href = link.attr('href');\n\n    const domain = domain_re.exec(href)[1];\n\n    if (!(link.parent('h1, h2, h3, h4, h5, h6').length || link.has('img').length)) {\n      if (!(href.split('.').pop() === 'pdf') && url !== domain) {\n        link.addClass('external-link');\n      }\n    }\n  });\n});\n","$(document).ready(function() {\n  'use strict';\n\n  $('.page-template img, .post-content img').each( function() {\n    $(this).attr('title', $(this).attr('alt') );\n  });\n});\n","$(document).ready(function() {\n  'use strict';\n\n  $(document).on('click', [\n    '.navbar-dropdown-toggle',\n    '.country-dropdown-toggle',\n    '.navbar-search-toggle',\n  ].join(), function toggleNavDropdown(evt) {\n    evt.preventDefault();\n    evt.stopPropagation();\n\n    var $button = $(this);\n    var target = $button.data('target');\n    if (!target) {\n      throw new Error('Missing `data-target` attribute: specify the container to be toggled');\n    }\n    var toggleClass = $button.data('toggle');\n    if (!toggleClass) {\n      throw new Error('Missing `data-toggle` attribute: specify the class to toggle');\n    }\n\n    // Toggle visibility of the target specified via data-target.\n    $(target).toggleClass(toggleClass);\n    // Toggle aria-expanded attribute.\n    $button.attr('aria-expanded', function(i, attr) {\n      return attr === 'false' ? 'true' : 'false';\n    });\n  });\n\n  // Close all menus when clicking somewhere else\n  $(document).on('click', function closeInactiveMenus(evt) {\n    var clickedElement = evt.target;\n    $('button[aria-expanded=\"true\"]').each(function(i, button) {\n      var $button = $(button);\n      var buttonTarget = $($button.data('target')).get( 0 );\n      if (buttonTarget && ! $.contains(buttonTarget, clickedElement)) {\n        // Spoof a click on the open menu's toggle to close that menu.\n        $button.trigger('click');\n      }\n    });\n  });\n\n  // Close all menus on escape pressed\n  $(document).bind('keyup', function(event){\n    if (event.which === 27) {\n      $(document).trigger('click');\n    }\n  });\n\n  //Close the menu if the user clicks the dedicated dropdown close button.\n  $(document).on('click', '.close-navbar-dropdown', function (evt) {\n    evt.preventDefault();\n    // Proxy to the main navbar close button\n    $('.navbar-dropdown-toggle').trigger('click');\n  });\n\n  // Hide Header on on scroll down\n  function hasScrolled() {\n    var st = $(this).scrollTop();\n    if (Math.abs(lastScrollTop - st) <= delta) {\n      return;\n    }\n    if (st > lastScrollTop && st > navbarHeight){\n      $('.top-navigation').removeClass('nav-down').addClass('nav-up');\n    } else {\n      if(st + $(window).height() < $(document).height()) {\n        $('.top-navigation').removeClass('nav-up').addClass('nav-down');\n      }\n    }\n    lastScrollTop = st;\n  }\n\n  if($( window ).width() <= 768) {\n    var didScroll;\n    var lastScrollTop = 0;\n    var delta = 5;\n    var navbarHeight = $('.top-navigation').outerHeight();\n    $(window).scroll(function(){\n      didScroll = true;\n    });\n    setInterval(function() {\n      if (didScroll) {\n        hasScrolled();\n        didScroll = false;\n      }\n    }, 250);\n\n    var $slider = $('.mobile-menus');\n    $(document).click(function() {\n      if($('.menu').hasClass('active')){\n        //Hide the menus if visible\n        $slider.animate({\n          left: parseInt($slider.css('left'),10) == 0 ? -320 : 0\n        });\n        $('.menu').removeClass('active');\n      }\n      if($('.search-box').hasClass('active')){\n        //Hide the search if visible\n        $searchBox.slideToggle().toggleClass('active');\n      }\n    });\n\n    $('.menu').click(function() {\n      event.stopPropagation();\n      $(this).toggleClass('active');\n      $slider.animate({\n        left: parseInt($slider.css('left'),10) == -320 ? 0 : -320\n      });\n    });\n\n    var $searchBox = $('#search .search-box');\n    var $searchTrigger = $('#search-trigger');\n\n    $searchTrigger.on('click', function(event) {\n      event.stopPropagation();\n      $searchBox.slideToggle().toggleClass('active');\n    });\n  }\n});\n","$(document).ready(function() {\n  'use strict';\n\n  $('div.wp-caption[class*=\"align\"]').each( function() {\n    const imgwidth = $(this).find('img').attr('width');\n    $(this).css('cssText', 'width: ' + imgwidth +'px !important;');\n  });\n});\n","// Add pdf icon to pdf links\n\n$(document).ready(function() {\n  'use strict';\n\n  $('a[href$=\".pdf\"]').each(function() {\n    let link = $(this);\n\n    if (!(link.parent('h1, h2, h3, h4, h5, h6').length || link.has('img').length)) {\n      link.addClass('pdf-link');\n    }\n  });\n});\n"]}